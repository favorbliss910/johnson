<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Email with EmailJS</title>
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
</head>
<body>

    <h2>Contact Us</h2>
    <form id="email-form">
        <label for="from_name">Your Name:</label>
        <input type="text" id="from_name" name="from_name" required><br><br>

        <label for="message">Message:</label><br>
        <textarea id="message" name="message" rows="4" required></textarea><br><br>

        <label for="reply_to">Your Email:</label>
        <input type="email" id="reply_to" name="reply_to" required><br><br>

        <button type="submit">Send Email</button>
    </form>

    <script type="text/javascript">
        // Initialize EmailJS
        (function() {
            emailjs.init("service_r5djl3f");  // Replace with your EmailJS user ID
        })();

        // Form submission handler
        document.getElementById('email-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Collect form data
            const formData = new FormData(this);

            // Prepare the email sending function
            const sendEmail = async () => {
                try {
                    // Sending the email using EmailJS service
                    const response = await emailjs.sendForm("service_r5djl3f", "template_o9wgp9j", formData);
                    console.log("Email sent successfully:", response);
                    alert("Your email was sent successfully!");
                    document.getElementById('email-form').reset(); // Reset the form
                } catch (error) {
                    console.error("Failed to send email:", error);
                    alert("There was an error sending your email. Please try again later.");
                }
            };

            // Call the email sending function
            sendEmail();
        });
    </script>

</body>
</html>
